<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="MypageMapper">

	<select id="assetsList"
			resultType="kr.co.creator.vo.InvestVO">
		select invest_num
			, project_num
			, invest_price
			, invest_date
			FROM invest_list
			order by invest_date desc
	</select>
	
	<select id="InvestList"
			parameterType="kr.co.creator.vo.MemberVO"
			resultType="kr.co.creator.vo.MypageVO">
			select  i.invest_date 
			, p.project_num 
			, p.project_name 
			, p.rate rate 
			, i.invest_price 
			, p.refund_count 
			, p.refund refund 
			, p.refund_deadline 
			, p.ach_state 
			from invest_list i, project_list p
			where i.project_num = p.project_num 
				and i.user_num = #{user_num}
	</select>
	
	<select id="loanList"
		resultType="kr.co.creator.vo.InvestVO">
		select  a.account_name
		, a.bank_name
		, a.bank_num
		, a.deposit
		, i.input_history
		, i.output_history
		from account_list a, in_out i
		where a.account_num = i.account_num 
			and a.user_num = #{user_num}
	</select>
	
<!-- 나의 자산 - 예치금, 투자대기금, user_num 어떻게 join할건지 확인하기  -->
	<select id="DepoLog"
		resultType="kr.co.creator.vo.InvestVO">
		select  a.account_name
		, a.bank_name
		, a.bank_num
		, a.deposit
		, i.input_history
		, i.output_history
		from account_list a, in_out i
		where a.account_num = i.account_num 
			and a.user_num = #{user_num}
	</select>
	
	
	<select id="MyPageModify" parameterType="java.lang.String" resultType="kr.co.creator.vo.MypageVO">
		select user_num
		from user_list
		where user_password = #{user_password]}
	</select>
	
</mapper>